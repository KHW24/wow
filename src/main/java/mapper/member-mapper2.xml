<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.project.MemberMapper">
	<resultMap id="resultMember" type="Member">
		<id property="id" column="ID" />	
		<result property="nickname" column="NICKNAME" />
		<result property="password" column="PASSWORD" />
		<result property="email" column="EMAIL" />
		<result property="postCode" column="ADDRESS" />
		<result property="roadAddress" column="ROADADDRESS" />
		<result property="detailAddress" column="DETAILADDRESS" />
		<result property="alert_cnt" column="ALERT_CNT" />
		<result property="enabled" column="ENABLED"/>
		<collection property="authList" resultMap="resultMemberAuth"></collection>
	</resultMap>
	
	<resultMap type="MemberAuth" id="resultMemberAuth">
		<result property="id" column="id"/>
		<result property="auth" column="auth"/>		
	</resultMap>
	 
	<!-- 로그인  -->
	<select id="readLogin" resultMap="resultMember">
		SELECT MEMBER.ID, NICKNAME, PASSWORD, EMAIL, POSTCODE, ROADADDRESS, DETAILADDRESS, ALERT_CNT, ENABLED, AUTH FROM MEMBER LEFT OUTER JOIN MEMBER_AUTH ON MEMBER.ID = MEMBER_AUTH.ID WHERE MEMBER.ID = #{id}
	</select>
	

	
</mapper>